import{_ as t}from"./plugin-vue_export-helper-DlAUqK2U.js";import{o,c as e,e as l}from"./app-6eIwu4TL.js";const a={},r=l('<h2 id="问题症状" tabindex="-1"><a class="header-anchor" href="#问题症状"><span>问题症状</span></a></h2><p>日志中显示线程池的一条线程调用栈非常长，并且显示StackOverflow</p><h2 id="问题排查" tabindex="-1"><a class="header-anchor" href="#问题排查"><span>问题排查</span></a></h2><ol><li>栈信息中未找到相应的业务代码调用信息，所以无法定位到具体是哪行源码出了问题，只能通过日志中的上下文大概定位</li><li>发现关键字JSONUtil，是hutool包中的JSON序列化工具，初步判断是JSON序列化的问题</li></ol><p>去hutool的GitHub仓库，查找JSONUtil的相关issue，看见了关键信息“JSONUtil不支持循环引用”，因此写了段循环引用的代码，也出现了StackOverflow，并且发现业务代码中也有循环引用的代码，破案！</p><h2 id="解决问题" tabindex="-1"><a class="header-anchor" href="#解决问题"><span>解决问题</span></a></h2><p>将所有用到hutool的JSONUtil的地方都替换为fastjson</p><h2 id="防范措施" tabindex="-1"><a class="header-anchor" href="#防范措施"><span>防范措施</span></a></h2><ol><li>JSON序列化工具使用成熟稳定的</li><li>优化业务的逻辑，避免对象间的循环引用</li></ol>',9),i=[r];function n(c,h){return o(),e("div",null,i)}const u=t(a,[["render",n],["__file","hutool-stackoverflow.html.vue"]]),d=JSON.parse('{"path":"/practice-manual/troubleshoot/hutool-stackoverflow.html","title":"Hutool导致StackOverflow","lang":"zh-CN","frontmatter":{"title":"Hutool导致StackOverflow","author":null,"category":"Troubleshoot","tag":"Troubleshoot","description":"问题症状 日志中显示线程池的一条线程调用栈非常长，并且显示StackOverflow 问题排查 栈信息中未找到相应的业务代码调用信息，所以无法定位到具体是哪行源码出了问题，只能通过日志中的上下文大概定位 发现关键字JSONUtil，是hutool包中的JSON序列化工具，初步判断是JSON序列化的问题 去hutool的GitHub仓库，查找JSONUt...","head":[["meta",{"property":"og:url","content":"https://hollowlatte.github.io/Note-Book/Note-Book/practice-manual/troubleshoot/hutool-stackoverflow.html"}],["meta",{"property":"og:site_name","content":"Note-Book"}],["meta",{"property":"og:title","content":"Hutool导致StackOverflow"}],["meta",{"property":"og:description","content":"问题症状 日志中显示线程池的一条线程调用栈非常长，并且显示StackOverflow 问题排查 栈信息中未找到相应的业务代码调用信息，所以无法定位到具体是哪行源码出了问题，只能通过日志中的上下文大概定位 发现关键字JSONUtil，是hutool包中的JSON序列化工具，初步判断是JSON序列化的问题 去hutool的GitHub仓库，查找JSONUt..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-03-18T18:44:17.000Z"}],["meta",{"property":"article:author","content":"Hollow-Latte"}],["meta",{"property":"article:tag","content":"Troubleshoot"}],["meta",{"property":"article:modified_time","content":"2024-03-18T18:44:17.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Hutool导致StackOverflow\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-03-18T18:44:17.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Hollow-Latte\\",\\"url\\":\\"https://hollowlatte.github.io/Note-Book\\"}]}"]]},"headers":[{"level":2,"title":"问题症状","slug":"问题症状","link":"#问题症状","children":[]},{"level":2,"title":"问题排查","slug":"问题排查","link":"#问题排查","children":[]},{"level":2,"title":"解决问题","slug":"解决问题","link":"#解决问题","children":[]},{"level":2,"title":"防范措施","slug":"防范措施","link":"#防范措施","children":[]}],"git":{"createdTime":1710787457000,"updatedTime":1710787457000,"contributors":[{"name":"hollowlatte","email":"hollowlatte@outlook.com","commits":1}]},"readingTime":{"minutes":0.82,"words":245},"filePathRelative":"practice-manual/troubleshoot/hutool-stackoverflow.md","localizedDate":"2024年3月18日","excerpt":"<h2>问题症状</h2>\\n<p>日志中显示线程池的一条线程调用栈非常长，并且显示StackOverflow</p>\\n<h2>问题排查</h2>\\n<ol>\\n<li>栈信息中未找到相应的业务代码调用信息，所以无法定位到具体是哪行源码出了问题，只能通过日志中的上下文大概定位</li>\\n<li>发现关键字JSONUtil，是hutool包中的JSON序列化工具，初步判断是JSON序列化的问题</li>\\n</ol>\\n<p>去hutool的GitHub仓库，查找JSONUtil的相关issue，看见了关键信息“JSONUtil不支持循环引用”，因此写了段循环引用的代码，也出现了StackOverflow，并且发现业务代码中也有循环引用的代码，破案！</p>","autoDesc":true}');export{u as comp,d as data};
