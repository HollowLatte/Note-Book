import{_ as n}from"./plugin-vue_export-helper-DlAUqK2U.js";import{o as a,c as s,e}from"./app-BgR2ckCt.js";const t={},o=e(`<h2 id="docker-compose" tabindex="-1"><a class="header-anchor" href="#docker-compose"><span>Docker Compose</span></a></h2><div class="language-yaml line-numbers-mode" data-ext="yml" data-title="yml"><pre class="language-yaml"><code><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">&quot;3&quot;</span>

<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">name-server</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> apache/rocketmq<span class="token punctuation">:</span>5.1.2
    <span class="token key atrule">command</span><span class="token punctuation">:</span> ./mqnamesrv
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">&quot;9876:9876&quot;</span>
  <span class="token key atrule">broker</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> apache/rocketmq<span class="token punctuation">:</span>5.1.2
    <span class="token key atrule">mem_reservation</span><span class="token punctuation">:</span> 1g
    <span class="token key atrule">command</span><span class="token punctuation">:</span> ./mqbroker <span class="token punctuation">-</span>n host.docker.internal<span class="token punctuation">:</span>9876 <span class="token punctuation">-</span>c /home/rocketmq/rocketmq<span class="token punctuation">-</span>5.1.2/conf/broker.conf
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">&quot;./broker.conf:/home/rocketmq/rocketmq-5.1.2/conf/broker.conf&quot;</span>
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">&quot;9877:9877&quot;</span>
      <span class="token punctuation">-</span> <span class="token string">&quot;10909:10909&quot;</span>
      <span class="token punctuation">-</span> <span class="token string">&quot;10911:10911&quot;</span>
      <span class="token punctuation">-</span> <span class="token string">&quot;10912:10912&quot;</span>
    <span class="token key atrule">depends_on</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> name<span class="token punctuation">-</span>server
  <span class="token key atrule">dashboard</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> apacherocketmq/rocketmq<span class="token punctuation">-</span>dashboard<span class="token punctuation">:</span>1.0.0
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> JAVA_OPTS=<span class="token punctuation">-</span>Drocketmq.namesrv.addr=host.docker.internal<span class="token punctuation">:</span><span class="token number">9876</span>
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">&quot;9880:8080&quot;</span>
    <span class="token key atrule">depends_on</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> name<span class="token punctuation">-</span>server
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container warning"><p class="hint-container-title">注意</p><p>listenPort：broker的监听端口号，是remotingServer服务组件使用，作为对Producer和Consumer提供服务的端口号，默认为10911</p><p>fastListenPort：fastRemotingServer服务组件使用，监听端口值为<code>listenPort - 2</code>，即默认为10909</p><p>haListenPort：HAService服务组件使用，用于Broker的主从同步，监听端口值为<code>listenPort + 1</code>，即默认为10912</p></div><h2 id="broker-conf" tabindex="-1"><a class="header-anchor" href="#broker-conf"><span>broker.conf</span></a></h2><div class="language-properties line-numbers-mode" data-ext="properties" data-title="properties"><pre class="language-properties"><code><span class="token key attr-name">brokerClusterName</span> <span class="token punctuation">=</span> <span class="token value attr-value">DefaultCluster</span>
<span class="token key attr-name">brokerName</span> <span class="token punctuation">=</span> <span class="token value attr-value">broker-a</span>
<span class="token key attr-name">brokerId</span> <span class="token punctuation">=</span> <span class="token value attr-value">0</span>
<span class="token key attr-name">deleteWhen</span> <span class="token punctuation">=</span> <span class="token value attr-value">04</span>
<span class="token key attr-name">fileReservedTime</span> <span class="token punctuation">=</span> <span class="token value attr-value">48</span>
<span class="token key attr-name">brokerRole</span> <span class="token punctuation">=</span> <span class="token value attr-value">ASYNC_MASTER</span>
<span class="token key attr-name">flushDiskType</span> <span class="token punctuation">=</span> <span class="token value attr-value">ASYNC_FLUSH</span>


<span class="token comment"># Custom config</span>
<span class="token key attr-name">brokerIP1</span> <span class="token punctuation">=</span> <span class="token value attr-value">host.docker.internal</span>
<span class="token key attr-name">brokerIP2</span> <span class="token punctuation">=</span> <span class="token value attr-value">host.docker.internal</span>
<span class="token key attr-name">autoCreateTopicEnable</span><span class="token punctuation">=</span><span class="token value attr-value">true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,5),p=[o];function c(l,r){return a(),s("div",null,p)}const k=n(t,[["render",c],["__file","rocketmq-deploy.html.vue"]]),d=JSON.parse('{"path":"/practice-manual/docker/deploy/rocketmq-deploy.html","title":"RocketMQ部署","lang":"zh-CN","frontmatter":{"title":"RocketMQ部署","author":null,"category":"RocketMQ","tag":"RocketMQ","description":"Docker Compose 注意 listenPort：broker的监听端口号，是remotingServer服务组件使用，作为对Producer和Consumer提供服务的端口号，默认为10911 fastListenPort：fastRemotingServer服务组件使用，监听端口值为listenPort - 2，即默认为10909 haLi...","head":[["meta",{"property":"og:url","content":"https://hollowlatte.github.io/Note-Book/Note-Book/practice-manual/docker/deploy/rocketmq-deploy.html"}],["meta",{"property":"og:site_name","content":"Note-Book"}],["meta",{"property":"og:title","content":"RocketMQ部署"}],["meta",{"property":"og:description","content":"Docker Compose 注意 listenPort：broker的监听端口号，是remotingServer服务组件使用，作为对Producer和Consumer提供服务的端口号，默认为10911 fastListenPort：fastRemotingServer服务组件使用，监听端口值为listenPort - 2，即默认为10909 haLi..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-03-26T15:40:23.000Z"}],["meta",{"property":"article:author","content":"Hollow-Latte"}],["meta",{"property":"article:tag","content":"RocketMQ"}],["meta",{"property":"article:modified_time","content":"2024-03-26T15:40:23.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"RocketMQ部署\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-03-26T15:40:23.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Hollow-Latte\\",\\"url\\":\\"https://hollowlatte.github.io/Note-Book\\"}]}"]]},"headers":[{"level":2,"title":"Docker Compose","slug":"docker-compose","link":"#docker-compose","children":[]},{"level":2,"title":"broker.conf","slug":"broker-conf","link":"#broker-conf","children":[]}],"git":{"createdTime":1711467623000,"updatedTime":1711467623000,"contributors":[{"name":"hollowlatte","email":"hollowlatte@outlook.com","commits":1}]},"readingTime":{"minutes":0.6,"words":181},"filePathRelative":"practice-manual/docker/deploy/rocketmq-deploy.md","localizedDate":"2024年3月26日","excerpt":"<h2>Docker Compose</h2>\\n<div class=\\"language-yaml\\" data-ext=\\"yml\\" data-title=\\"yml\\"><pre class=\\"language-yaml\\"><code><span class=\\"token key atrule\\">version</span><span class=\\"token punctuation\\">:</span> <span class=\\"token string\\">\\"3\\"</span>\\n\\n<span class=\\"token key atrule\\">services</span><span class=\\"token punctuation\\">:</span>\\n  <span class=\\"token key atrule\\">name-server</span><span class=\\"token punctuation\\">:</span>\\n    <span class=\\"token key atrule\\">image</span><span class=\\"token punctuation\\">:</span> apache/rocketmq<span class=\\"token punctuation\\">:</span>5.1.2\\n    <span class=\\"token key atrule\\">command</span><span class=\\"token punctuation\\">:</span> ./mqnamesrv\\n    <span class=\\"token key atrule\\">ports</span><span class=\\"token punctuation\\">:</span>\\n      <span class=\\"token punctuation\\">-</span> <span class=\\"token string\\">\\"9876:9876\\"</span>\\n  <span class=\\"token key atrule\\">broker</span><span class=\\"token punctuation\\">:</span>\\n    <span class=\\"token key atrule\\">image</span><span class=\\"token punctuation\\">:</span> apache/rocketmq<span class=\\"token punctuation\\">:</span>5.1.2\\n    <span class=\\"token key atrule\\">mem_reservation</span><span class=\\"token punctuation\\">:</span> 1g\\n    <span class=\\"token key atrule\\">command</span><span class=\\"token punctuation\\">:</span> ./mqbroker <span class=\\"token punctuation\\">-</span>n host.docker.internal<span class=\\"token punctuation\\">:</span>9876 <span class=\\"token punctuation\\">-</span>c /home/rocketmq/rocketmq<span class=\\"token punctuation\\">-</span>5.1.2/conf/broker.conf\\n    <span class=\\"token key atrule\\">volumes</span><span class=\\"token punctuation\\">:</span>\\n      <span class=\\"token punctuation\\">-</span> <span class=\\"token string\\">\\"./broker.conf:/home/rocketmq/rocketmq-5.1.2/conf/broker.conf\\"</span>\\n    <span class=\\"token key atrule\\">ports</span><span class=\\"token punctuation\\">:</span>\\n      <span class=\\"token punctuation\\">-</span> <span class=\\"token string\\">\\"9877:9877\\"</span>\\n      <span class=\\"token punctuation\\">-</span> <span class=\\"token string\\">\\"10909:10909\\"</span>\\n      <span class=\\"token punctuation\\">-</span> <span class=\\"token string\\">\\"10911:10911\\"</span>\\n      <span class=\\"token punctuation\\">-</span> <span class=\\"token string\\">\\"10912:10912\\"</span>\\n    <span class=\\"token key atrule\\">depends_on</span><span class=\\"token punctuation\\">:</span>\\n      <span class=\\"token punctuation\\">-</span> name<span class=\\"token punctuation\\">-</span>server\\n  <span class=\\"token key atrule\\">dashboard</span><span class=\\"token punctuation\\">:</span>\\n    <span class=\\"token key atrule\\">image</span><span class=\\"token punctuation\\">:</span> apacherocketmq/rocketmq<span class=\\"token punctuation\\">-</span>dashboard<span class=\\"token punctuation\\">:</span>1.0.0\\n    <span class=\\"token key atrule\\">environment</span><span class=\\"token punctuation\\">:</span>\\n      <span class=\\"token punctuation\\">-</span> JAVA_OPTS=<span class=\\"token punctuation\\">-</span>Drocketmq.namesrv.addr=host.docker.internal<span class=\\"token punctuation\\">:</span><span class=\\"token number\\">9876</span>\\n    <span class=\\"token key atrule\\">ports</span><span class=\\"token punctuation\\">:</span>\\n      <span class=\\"token punctuation\\">-</span> <span class=\\"token string\\">\\"9880:8080\\"</span>\\n    <span class=\\"token key atrule\\">depends_on</span><span class=\\"token punctuation\\">:</span>\\n      <span class=\\"token punctuation\\">-</span> name<span class=\\"token punctuation\\">-</span>server\\n</code></pre></div>","autoDesc":true}');export{k as comp,d as data};
